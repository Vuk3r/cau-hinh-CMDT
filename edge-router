
! ================ router edge 1 ================ ! 

en
conf t
hostname EDGE-1
enable password EDGE-1

ip domain-name vku.domain
username admin password 123
crypto key generate rsa
1024
line vty 0 4
login local
transport input ssh

interface GigabitEthernet0/0
ip address 36.36.36.36 255.0.0.0

interface GigabitEthernet0/1
ip address 10.43.231.254 255.255.255.252
interface GigabitEthernet0/2
ip address 10.43.233.254 255.255.255.252

ip route 0.0.0.0 0.0.0.0 36.36.36.1

! uu tien xuong FW 1
ip route 10.0.0.0 255.0.0.0 10.43.231.253 1
ip route 10.0.0.0 255.0.0.0 10.43.233.253 10

! NAT   
interface GigabitEthernet0/1
ip nat inside
interface GigabitEthernet0/2
ip nat inside
interface GigabitEthernet0/0
ip nat outside
access-list 1 permit 10.43.0.0 0.0.255.255
ip nat inside source list 1 interface GigabitEthernet0/0 overload
! truy cap http server
ip nat inside source static tcp 10.43.151.2 80 36.36.36.36 80
exit
wr m

! ================ router edge 2 ================ ! 

en
conf t
hostname EDGE-2
enable password EDGE-2

ip domain-name vku.domain
username admin password 123
crypto key generate rsa
1024
line vty 0 4
login local
transport input ssh

interface GigabitEthernet0/0
ip address 18.18.18.18 255.0.0.0

interface GigabitEthernet0/1
ip address 10.43.232.254 255.255.255.252
interface GigabitEthernet0/2
ip address 10.43.234.254 255.255.255.252

ip route 0.0.0.0 0.0.0.0 18.18.18.1

! uu tien xuong FW 2 
ip route 10.0.0.0 255.0.0.0 10.43.234.253 1
ip route 10.0.0.0 255.0.0.0 10.43.232.253 10

! NAT
interface GigabitEthernet0/1
ip nat inside
interface GigabitEthernet0/2
ip nat inside
interface GigabitEthernet0/0
ip nat outside
access-list 1 permit 10.43.0.0 0.0.255.255
ip nat inside source list 1 interface GigabitEthernet0/0 overload
! truy cap http server
ip nat inside source static tcp 10.43.151.2 80 18.18.18.18 80
exit
wr m
